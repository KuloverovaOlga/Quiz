(()=>{"use strict";const e=(e,t)=>{const n=document.createElement(e);return Object.assign(n,t)},t=t=>{const n=e("section",{className:"quiz"}),a=e("div",{className:"container quiz__container"}),s=e("div",{className:"quiz__inner"}),o=e("h3",{className:"quiz__title title"}),i=e("div",{className:"quiz__progress-wrapp"}),l=e("div",{className:"quiz__progress-bar"}),c=e("div",{className:"quiz__progress"}),r=e("div",{className:"quiz__progress-question"}),d=e("span",{className:"quiz__current-question"}),u=e("span",{className:"quiz__slash",textContent:"из"}),p=e("span",{className:"quiz__total-question"}),_=e("div",{className:"quiz__questions"}),m=e("span",{className:"quiz__question"}),h=e("ul",{className:"quiz__answers"}),g=e("div",{className:"quiz__btn-box"}),C=e("button",{className:"quiz__btn-box",innerHTML:' <button class="quiz__button quiz__button--next">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="25" viewBox="0 0 35 35" fill="none">\n                            <path\n                                d="M33.888 19.2336L33.6089 19.5591L33.6167 19.5682L21.3951 33.8204C20.618 34.7265 19.392 34.7265 18.6149 33.8204C17.7989 32.8688 17.7989 31.2956 18.6149 30.344L18.6151 30.3438L26.8421 20.7408L27.5492 19.9155H26.4624H2.50014C1.46273 19.9155 0.5 18.9114 0.5 17.5C0.5 16.0886 1.46273 15.0845 2.50014 15.0845H26.4702H27.5583L26.8496 14.2588L18.6071 4.65597C18.6071 4.65594 18.6071 4.65591 18.6071 4.65588C18.607 4.65585 18.607 4.65582 18.607 4.65579C17.7911 3.70417 17.7912 2.13118 18.6071 1.17964C19.3842 0.273454 20.6102 0.273454 21.3873 1.17964L33.888 15.7573C34.704 16.7089 34.704 18.282 33.888 19.2336Z"\n                                fill="#94D30E"\n                                stroke="black"\n                            /></svg>\n                    </button>'}),v=e("button",{className:"quiz__btn-box",innerHTML:'<button class="quiz__button quiz__button--prev">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="25" viewBox="0 0 35 35" fill="none">\n                            <path\n                                d="M1.11202 19.2336L1.39112 19.5591L1.38331 19.5682L13.6049 33.8204C14.382 34.7265 15.608 34.7265 16.3851 33.8204C17.2011 32.8688 17.2011 31.2956 16.3851 30.344L16.3849 30.3438L8.15788 20.7408L7.45083 19.9155H8.53759H32.4999C33.5373 19.9155 34.5 18.9114 34.5 17.5C34.5 16.0886 33.5373 15.0845 32.4999 15.0845H8.52977H7.44168L8.15037 14.2588L16.3929 4.65597C16.3929 4.65594 16.3929 4.65591 16.3929 4.65588C16.393 4.65585 16.393 4.65582 16.393 4.65579C17.2089 3.70417 17.2088 2.13118 16.3929 1.17964C15.6158 0.273454 14.3898 0.273454 13.6127 1.17964L1.11202 15.7573C0.295994 16.7089 0.295994 18.282 1.11202 19.2336Z"\n                                fill="#94D30E"\n                                stroke="black"\n                            />\n                        </svg>\n                    </button>'});return t.append(n),n.append(a),a.append(s),s.append(o,i,_,g),i.append(l,r),l.append(c),r.append(d,u,p),_.append(m,h),g.append(v,C),{mount:e=>{t.append(n),(e=>{let t=e.questions.length,n=0;function a(e,t){let n=100*t/e;c.style.width=`${n}%`,d.textContent=t<e?t+1:t,p.textContent=e,console.log(e,t)}function s(t,n){m.textContent=n<t?`${e.questions[n].question}`:`${e.questions[n-1].question}`}function i(t,n){!function(e){const t=[];e.forEach(((e,n)=>{const a=`<li class="quiz__answer" data-id="${n+1}">${e}</li>`;t.push(a)})),h.innerHTML=t.join("")}(n<t?e.questions[n].answers:e.questions[n-1].answers)}o.textContent=e.title,function(){let o=0,l=[],r=[],u="";h.addEventListener("click",(e=>{let t=e.target;t.classList.contains("quiz__answer")&&!t.classList.contains("active")&&(o=t.dataset.id,console.log(o),document.querySelectorAll(".quiz__answer").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),u=t.textContent)})),C.addEventListener("click",(()=>{0!=o&&(n++,o=0,a(t,n),s(t,n),i(t,n),r.push(e.questions[n-1].correct),l.push(u),console.log(r),console.log(l)),n===t&&(p(),l=[],r=[],u="")})),v.addEventListener("click",(()=>{n>0&&(n--,l.pop(),r.pop()),a(t,n),s(t,n),i(t,n)})),document.querySelector(".header__btn").addEventListener("click",(()=>{n=0,l=[],r=[],u=""}));const p=()=>{n=0;let e=l.filter((e=>r.includes(e))).length;d.textContent=t,c.style.width="100%",m.textContent="Опрос окончен",m.style.margin="0 auto",h.textContent=` Правильных ответов ${e} из ${t}`,h.style.textAlign="center",h.style.color="black"}}(),a(t,n),s(t,n),i(t,n)})(e)},unMount:()=>{n.remove()}}},n="https://quiz-c52ca-default-rtdb.firebaseio.com/quiz",a=async()=>{try{const e=await fetch(`${n}.json`);if(200!==e.status&&201!==e.status)throw await e.json();return await e.json()}catch(e){return{error:e}}};document.addEventListener("DOMContentLoaded",(()=>{const s=document.querySelector(".header"),o=document.querySelector(".main"),i=(t=>{const n=e("div",{className:"container header__container"}),a=e("div",{className:"header__inner"}),s=e("a",{className:"header__logo",href:"#"}),o=e("img",{className:"header__logo-img",alt:"logo",src:"images/logo.png"}),i=e("div",{className:"header__search search"}),l=e("div",{className:"header__search-wrapper"}),c=e("input",{className:"header__search-wrapper_input",type:"text",placeholder:"Найти тест"}),r=e("div",{className:"header__search-btn-box"}),d=e("button",{className:"header__search-btn",innerHTML:' <svg xmlns="http://www.w3.org/2000/svg" width="34" height="32" viewBox="0 0 34 32" fill="none">\n                    <path d="M17.6946 6.82191L22.6616 8.78495V0.758763L26.7047 14.0058L22.6616 12.3212V21.3916L17.6946 6.82191ZM23.8442 0.0904947L23.9403 0.417668L25.0638 4.10011C28.0425 5.17908 30.1565 7.90088 30.1565 11.0821C30.1565 14.7228 27.6212 17.7578 23.9921 18.4261V22.1573C29.75 21.4264 34 16.7137 34 11.0891C34 5.48537 29.58 0.842297 23.8442 0.0904947ZM0.827492 31.2207C1.65533 32.0003 2.5349 32.0769 2.94142 31.9516C3.34056 31.8263 4.94449 30.5663 7.40582 28.8609C9.86715 27.1484 9.88932 26.3757 10.5841 24.9139C11.2789 23.459 12.8311 21.9484 14.8342 21.2663L15.5511 20.243C17.3768 21.4194 19.4685 22.1155 21.5603 22.2408L21.4051 21.7814L20.2299 18.3356C16.7929 17.5072 14.2502 14.5766 14.2502 11.0821C14.2502 7.2883 17.0885 3.97481 21.346 3.62675V0C15.1963 0.355018 10.3476 5.18604 10.3476 11.0891C10.3476 13.428 11.1754 15.5929 12.4911 17.3819L11.4119 18.0502C10.6876 19.9367 9.08366 21.3916 7.53886 22.0459C5.99406 22.7003 5.15884 22.7211 3.34056 25.0392C1.52228 27.3503 0.184442 28.8609 0.051397 29.2368C-0.0816478 29.6127 -0.000342615 30.441 0.827492 31.2207ZM1.55924 29.9746C1.55924 29.6683 1.82533 29.4177 2.15055 29.4177C2.47577 29.4177 2.74186 29.6683 2.74186 29.9746C2.74186 30.2809 2.47577 30.5315 2.15055 30.5315C1.82533 30.5315 1.55924 30.2809 1.55924 29.9746Z" fill="#5FC93A"/>\n                </svg>'}),u=e("button",{className:"header__btn btn",textContent:"Начать заново"});return t.append(n),n.append(a),a.append(s,i,u),s.append(o),i.append(l,r),l.append(c),r.append(d),{headerLink:s,headerBtn:u,headerSearch:i,mount:()=>{t.append(n)},unMount:()=>{n.remove()}}})(s),l=(t=>{const n=e("section",{className:"hero"}),a=e("div",{className:"container hero__container"}),s=e("div",{className:"hero__inner"}),o=e("div",{className:"hero__img-box"}),i=e("img",{className:"hero__img",alt:"lamp",src:"images/hero.png"}),l=e("div",{className:"hero__content-box"}),c=e("h1",{className:"hero__title title",textContent:"Онлайн тесты на разные темы"}),r=e("p",{className:"hero__desk desk",textContent:" Разнообразные тематические тесты будут интересны не только взрослым людям, но и детям подросткового и младшего\n        возраста"}),d=e("button",{className:"hero__btn btn",textContent:"Играть"});return t.append(n),n.append(a),a.append(s),s.append(o,l),o.append(i),l.append(c,r,d),{heroContentButton:d,mount:()=>{t.append(n)},unMount:()=>{n.remove()}}})(o),c=(t=>{const n=e("section",{className:"catalog"}),a=e("div",{className:"container"}),s=e("div",{className:"catalog__inner"}),o=e("h2",{className:"catalog__title title",textContent:"Каталог квестов"}),i=e("ul",{className:"catalog__list"}),l=t=>{const n=e("li",{className:"catalog__item"});n.dataset.id=t.id;const a=e("a",{className:"catalog__item-link",href:"#"}),s=e("h3",{className:"catalog__item-title catalog__item--hover",textContent:t.title}),o=e("div",{className:"catalog__img-box",innerHTML:'<img src="images/lamp.png" alt="" class="catalog__img img1" />\n                       <img src="images/lampon.png" alt="" class="catalog__img img2" />'}),i=e("p",{className:"catalog__item-text catalog__item--hover",textContent:`${t.questions.length} ${l=t.questions.length,c=["вопрос","вопроса","вопросов"],c[l%10==1&&l%100!=11?0:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?1:2]}`});var l,c;return n.append(a),a.append(s,o,i),n},c=e("button",{className:"catalog__btn btn",textContent:"Показать больше"});return t.append(n),n.append(a),a.append(s),s.append(o,i,c),{catalogList:i,mount:(e,a)=>{i.textContent="";const s=e.map(l);i.append(...s.slice(0,a)),t.append(n)},unMount:()=>{n.remove()}}})(o),r=t(o),d=()=>{[i,c,r].forEach((e=>e.unMount()))},u=async e=>{let t=e.target;if(t.closest(".catalog__item")){d();let e=t.dataset.id,a=await(async e=>{try{const t=await fetch(`${n}/${e}.json`);if(200!==t.status&&201!==t.status)throw await t.json();return await t.json()}catch(e){return{error:e}}})(e);i.mount(),i.headerSearch.style.display="none",i.headerBtn.style.display="block",r.mount(a)}};l.heroContentButton.addEventListener("click",(async()=>{d();let e=await a(),t=4;const n=(e,t)=>e.filter((e=>e.title.toLowerCase().includes(t.toLowerCase())));c.catalogList.addEventListener("click",u),i.mount(),c.mount(e,t),l.unMount(),r.unMount(),i.headerSearch.style.display="flex",i.headerBtn.style.display="none",(()=>{const e=document.querySelector(".header__search-wrapper_input"),s=document.querySelector(".catalog__btn");e.addEventListener("input",(e=>{let o=e.target.value;a().then((e=>{c.mount(n(e,o),t),n(e,o).length<t?s.style.display="none":s.style.display="block"}))}))})(),(()=>{const n=document.querySelector(".catalog__btn");e.length<=4?n.style.display="none":n.style.display="block",n.addEventListener("click",(()=>{t>=e.length-t?n.style.display="none":n.style.display="block",c.mount(e,t+4),t+=4}))})()})),i.headerLink.addEventListener("click",(()=>{d(),l.mount(),i.headerSearch.style.display="flex",location.reload()})),i.headerBtn.addEventListener("click",(()=>{location.reload()})),c.catalogList.addEventListener("click",u),d()}))})();
//# sourceMappingURL=script.min.js.map
